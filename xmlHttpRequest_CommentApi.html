<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xmlHttpRequest_CommentApi</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body class="container" >
    <button class="btn btn-success" onclick="ajax()" >click</button>
    <div id="output" class="container" ></div>



<script>
    function ajax(){
        let xhr = new XMLHttpRequest();
        let url = "https://jsonplaceholder.typicode.com/comments";
        xhr.open("GET",url,true);

        xhr.onload =()=>{
            if(xhr.status==200){
                var obj = JSON.parse(xhr.responseText) ;
                console.log(obj);
            }else{
                console.log("some error",xhr.responseText);
            }
        
            var tableData= `<table  class="table table-striped" ><tr><td>id</td><td>name</td><td>email</td><td>body</td></tr>`;
                // console.log(obj.length);
            for(var i = 0; i<obj.length; i++){
        
                let id = obj[i].id;
                let name = obj[i].name;
                let email = obj[i].email;
                let body = obj[i].body;
                // console.log(id);
                // console.log(name);
                // console.log(email);
                // console.log(body);


               tableData =tableData+`<tr><td>${id}</td><td>${name}</td><td>${email}</td><td>${body}</td></tr>`
            }
            tableData= tableData+ "</table>";

            document.getElementById("output").innerHTML = tableData;




        }

        
       
        // xhr.onerror =()=>{
        //     console.log("some error",xhr.response);
        // }
        xhr.send();

    }

</script>

</body>
</html>