<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XMLHttpRequest</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body class="container" >
    <div id="dvOutPut"></div>
    <button id="btnAJAX" onclick="CallAjaX()" class="btn btn-primary" > click show data</button>






</body>
<script>
    function CallAjaX(){
        // let request = new XMLHttpRequest();
        // let url = "https://jsonplaceholder.typicode.com/users"

        // request.open('GET',url,true);

        // request.onload = ()=>{
        //     console.log(request.response);  
        // }
        // request.onerror =()=>{
        //     console.log("some error",request.status); //404
        // }
        // request.send();



        var myRequest = new XMLHttpRequest();

        myRequest.open("GET","https://jsonplaceholder.typicode.com/users",true);
            

        myRequest.onload =()=>{
            // var myResponseText = myRequest.responseText;

           var myObj = JSON.parse(myRequest.responseText);

           var myDataHTML = ""; 
        //    for(var i )

            myDataHTML = "<table class='table table-dark table-striped-columns' ><tr><td>id</td><td>name</td><td>username</td><td>email</td><td>address</td><td>geo</td><td>phone</td><td>website</td><td>company</td></tr>"
            


                var arr_length = myObj.length;

                for(var i = 0; i<arr_length; i++){
                    var id = myObj[i].id;
                    var name = myObj[i].name;
                    var username = myObj[i].username;
                    var email = myObj[i].email;
                    var address = myObj[i].address.street + "," +myObj[i].address.suite + "," + myObj[i].address.city + "," + myObj[i].address.zipcode;
                    var geo = myObj[i].address.geo.lat+ "," +myObj[i].address.geo.lng;

                    var phone = myObj[i].phone;
                    var website = myObj[i].website;
                    var company = `${myObj[i].company.name} ,${myObj[i].company.catchPhrase}${myObj[i].company.bs} `;


                    myDataHTML = myDataHTML+`<tr><td>${id}+</td><td>${name}</td><td>${username}</td><td>${email}</td><td>${address}</td><td>${geo}</td><td>${phone}</td><td>${website}</td><td>${company}</td></tr>`;
                }
                myDataHTML = myDataHTML+"</table>";

                document.getElementById("dvOutPut").innerHTML = myDataHTML;

        }  
        
        myRequest.send();


    }

</script>
</html>